<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>wCMF 4.0: BatchController Class Reference</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A MDSD framework for building reliable, maintainable and extendable web applications with PHP">
  <meta name="keywords" content="PHP, web application framework, model driven development">
  <meta name="author" content="wemove digital solutions">
  <link rel="shortcut icon" href="theme/images/favicon.ico">
  <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
  <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
  <link href="theme/css/doxstyles.css" rel="stylesheet">
  <script src="jquery.js"></script>
  <script src="theme/bootstrap3/js/bootstrap.min.js"></script>
  <link href="theme/bootstrap3/css/bootstrap.min.css" rel="stylesheet">
  <link href="theme/bootstrap3/css/font-awesome.min.css" rel="stylesheet">
  <script src="theme/js/tocify/jquery.tocify.min.js"></script>
  <link href="theme/js/tocify/jquery.tocify.css" rel="stylesheet">
  <script src="theme/js/doxy-boot.js"></script>
  <script src="theme/js/application.js"></script>
  <script src="dynsections.js"></script>
  <link href="theme/css/syntax.css" rel="stylesheet">
  <link href="theme/css/style.css" rel="stylesheet">
  <script src="search/search.js"></script>
  <script src="search/searchdata.js"></script>
</head>
<body style="min-height: 200px; padding-top: 50px;">
<header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav">
  <div class="container">
    <div class="row">
      <div class="col-md-offset-1 col-sm-offset-0 col-md-10">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".menu-navbar-collapse">
            <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">wCMF 4.0</a>
        </div>
        <div class="collapse navbar-collapse menu-navbar-collapse" role="navigation">
          <ul class="nav navbar-nav">
            <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-hand-o-right"></i> Guides <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="gettingstarted.html">Getting started</a></li>
                <li><a href="architecture.html">Architecture</a></li>
                <li><a href="model.html">Model</a></li>
                <li><a href="persistence.html">Persistence</a></li>
                <li><a href="presentation.html">Presentation</a></li>
                <li><a href="configuration.html">Configuration</a></li>
                <li><a href="security.html">Security</a></li>
                <li><a href="i18n_l10n.html">I18n & l10n</a></li>
                <li><a href="tests.html">Tests</a></li>
              </ul>
            </li>
            <li class="dropdown"><a href="annotated.html"><i class="fa fa-file-text-o"></i> API</a></li>
            <li><a href="https://github.com/iherwig/wcmf"><i class="fa fa-github"></i> Code</a></li>
            <li><a href="support.html"><i class="fa fa-support"></i> Support</a></li>
          </ul>
          <ul class="nav navbar-nav pull-right">
            <li>
              <div id="MSearchBox">
                <input id="MSearchField" type="text" class="form-control" placeholder="Search API" name="query" onkeyup="searchBox.OnSearchFieldChange(event)">
              </div>
              <div id="MSearchSelect"></div>
              <div id="MSearchClose"></div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>
<a class="anchor" id="top"></a>
<div class="content" id="content">
  <div class="container">
    <div class="row" style="margin-top: 20px;">
      <div class="col-md-offset-1 col-sm-offset-0 col-md-10 panel panel-default">
       <div>
<!-- end header part --><!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
//var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacewcmf.html">wcmf</a></li><li class="navelem"><a class="el" href="namespacewcmf_1_1application.html">application</a></li><li class="navelem"><a class="el" href="namespacewcmf_1_1application_1_1controller.html">controller</a></li><li class="navelem"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html">BatchController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classwcmf_1_1application_1_1controller_1_1_batch_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BatchController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html" title="BatchController is used to process complex, longer running actions, that need to be divided into seve...">BatchController</a> is used to process complex, longer running actions, that need to be divided into several requests to overcome resource limits and provide progress information to the user. </p>
<p>Conceptionally the process is divided into subactions (<em>work packages</em>), that are called sequentially. Depending on the progress, the controller sets different actions on the response as result of one execution.</p>
<p><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html" title="BatchController is used to process complex, longer running actions, that need to be divided into seve...">BatchController</a> only sets up the infrastructure, the concrete process is defined by creating a subclass and implementing the abstract methods (mainly <a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#aa969f966d1ab74704cbde9512d281d2c" title="Get definitions of work packages. ">BatchController::getWorkPackage()</a>).</p>
<p>The controller supports the following actions:</p>
<div class="controller-action"> <div> <b>Action</b> <em>default</em> </div> <div> Initialize the work packages and process the first action. </p><table class="doxtable">
<tr>
<th>Parameter </th><th>Description  </th></tr>
<tr>
<td><em>in</em> <code>oneCall</code> </td><td>Boolean whether to accomplish the task in one call (optional, default: <em>false</em>) </td></tr>
<tr>
<td><em>out</em> <code>stepNumber</code> </td><td>The current step starting with 1, ending with <em>numberOfSteps</em>+1 </td></tr>
<tr>
<td><em>out</em> <code>numberOfSteps</code> </td><td>Total number of steps </td></tr>
<tr>
<td><em>out</em> <code>displayText</code> </td><td>The display text for the current step </td></tr>
<tr>
<td><b>Response Actions</b> </td><td></td></tr>
<tr>
<td><code>next</code> </td><td>The process is not finished and <code>continue</code> should be called as next action </td></tr>
<tr>
<td><code>download</code> </td><td>The process is finished and the next call to <code>continue</code> will trigger the file download </td></tr>
<tr>
<td><code>done</code> </td><td>The process is finished </td></tr>
</table>
</div> </div><div class="controller-action"> <div> <b>Action</b> continue </div> <div> Continue to process the next action. </p><table class="doxtable">
<tr>
<th>Parameter </th><th>Description  </th></tr>
<tr>
<td><em>out</em> <code>stepNumber</code> </td><td>The current step starting with 1, ending with <em>numberOfSteps</em>+1 </td></tr>
<tr>
<td><em>out</em> <code>numberOfSteps</code> </td><td>Total number of steps </td></tr>
<tr>
<td><em>out</em> <code>displayText</code> </td><td>The display text for the current step </td></tr>
<tr>
<td><b>Response Actions</b> </td><td></td></tr>
<tr>
<td><code>next</code> </td><td>The process is not finished and <code>continue</code> should be called as next action </td></tr>
<tr>
<td><code>download</code> </td><td>The process is finished and the next call to <code>continue</code> will trigger the file download </td></tr>
<tr>
<td><code>done</code> </td><td>The process is finished </td></tr>
</table>
</div> </div><dl class="section author"><dt>Author</dt><dd>ingo herwig <a href="#" onclick="location.href='mai'+'lto:'+'ing'+'o@'+'wem'+'ov'+'e.c'+'om'; return false;">ingo@<span style="display: none;">.nosp@m.</span>wemo<span style="display: none;">.nosp@m.</span>ve.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00069">69</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>
</div><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for BatchController:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classwcmf_1_1application_1_1controller_1_1_batch_controller__inherit__graph.svg" width="766" height="955"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a47a24ac0d700f62a9434d298ade72fb9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#a47a24ac0d700f62a9434d298ade72fb9">initialize</a> (<a class="el" href="interfacewcmf_1_1lib_1_1presentation_1_1_request.html">Request</a> $request, <a class="el" href="interfacewcmf_1_1lib_1_1presentation_1_1_response.html">Response</a> $response)</td></tr>
<tr class="separator:a47a24ac0d700f62a9434d298ade72fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html">Controller</a></td></tr>
<tr class="memitem:a1866f1ac334aa1a5c2c39b4e5178c92c inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a1866f1ac334aa1a5c2c39b4e5178c92c">__construct</a> (<a class="el" href="interfacewcmf_1_1lib_1_1core_1_1_session.html">Session</a> $session, <a class="el" href="interfacewcmf_1_1lib_1_1persistence_1_1_persistence_facade.html">PersistenceFacade</a> $persistenceFacade, <a class="el" href="interfacewcmf_1_1lib_1_1security_1_1_permission_manager.html">PermissionManager</a> $permissionManager, <a class="el" href="interfacewcmf_1_1lib_1_1presentation_1_1_action_mapper.html">ActionMapper</a> $actionMapper, <a class="el" href="interfacewcmf_1_1lib_1_1i18n_1_1_localization.html">Localization</a> $localization, <a class="el" href="interfacewcmf_1_1lib_1_1i18n_1_1_message.html">Message</a> $message, <a class="el" href="interfacewcmf_1_1lib_1_1config_1_1_configuration.html">Configuration</a> $configuration)</td></tr>
<tr class="separator:a1866f1ac334aa1a5c2c39b4e5178c92c inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a24ac0d700f62a9434d298ade72fb9 inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a47a24ac0d700f62a9434d298ade72fb9">initialize</a> (<a class="el" href="interfacewcmf_1_1lib_1_1presentation_1_1_request.html">Request</a> $request, <a class="el" href="interfacewcmf_1_1lib_1_1presentation_1_1_response.html">Response</a> $response)</td></tr>
<tr class="separator:a47a24ac0d700f62a9434d298ade72fb9 inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1df29271eb3c879e6ebf5c9f60ddc806 inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a1df29271eb3c879e6ebf5c9f60ddc806">execute</a> ($method=null)</td></tr>
<tr class="separator:a1df29271eb3c879e6ebf5c9f60ddc806 inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf1a35ad20e475c59cc0967d5764aa22 inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#adf1a35ad20e475c59cc0967d5764aa22">getRequest</a> ()</td></tr>
<tr class="separator:adf1a35ad20e475c59cc0967d5764aa22 inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c907e8af775e517a77037dd0164222f inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a6c907e8af775e517a77037dd0164222f">getResponse</a> ()</td></tr>
<tr class="separator:a6c907e8af775e517a77037dd0164222f inherit pub_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a53400ac330831ebe7824ff08a43ac6a4"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#a53400ac330831ebe7824ff08a43ac6a4">ONE_CALL_SESSION_VARNAME</a> = 'BatchController.oneCall'</td></tr>
<tr class="separator:a53400ac330831ebe7824ff08a43ac6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54313d52266e446e4bcf229ea69fe04b"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#a54313d52266e446e4bcf229ea69fe04b">STEP_SESSION_VARNAME</a> = 'BatchController.curStep'</td></tr>
<tr class="separator:a54313d52266e446e4bcf229ea69fe04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3f4de20180ac5036e01a95234b55eb"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#a3a3f4de20180ac5036e01a95234b55eb">NUM_STEPS_VARNAME</a> = 'BatchController.numSteps'</td></tr>
<tr class="separator:a3a3f4de20180ac5036e01a95234b55eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a605a49acd064e42685ab6bc201ed8e11"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#a605a49acd064e42685ab6bc201ed8e11">DOWNLOAD_STEP</a> = 'BatchController.downloadStep'</td></tr>
<tr class="separator:a605a49acd064e42685ab6bc201ed8e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d60608693b06c89358cd28e94b30bd0"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#a5d60608693b06c89358cd28e94b30bd0">WORK_PACKAGES_VARNAME</a> = 'BatchController.workPackages'</td></tr>
<tr class="separator:a5d60608693b06c89358cd28e94b30bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4eadfceba84d61eda01f9828935cf8e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#a4eadfceba84d61eda01f9828935cf8e5">doExecute</a> ()</td></tr>
<tr class="separator:a4eadfceba84d61eda01f9828935cf8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2ef7d2d349d3ef7c8a913e110d58f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#a6f2ef7d2d349d3ef7c8a913e110d58f6">getStepNumber</a> ()</td></tr>
<tr class="separator:a6f2ef7d2d349d3ef7c8a913e110d58f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e75dc0967afe71da4d6bd46d7a500b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#ab0e75dc0967afe71da4d6bd46d7a500b">addWorkPackage</a> ($name, $size, $oids, $callback, $args=null)</td></tr>
<tr class="separator:ab0e75dc0967afe71da4d6bd46d7a500b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032673e3a0cc074048a113b86776d992"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#a032673e3a0cc074048a113b86776d992">processPart</a> ()</td></tr>
<tr class="separator:a032673e3a0cc074048a113b86776d992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade8916e986adac77ff3766e90615fa9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#ade8916e986adac77ff3766e90615fa9a">getNumberOfSteps</a> ()</td></tr>
<tr class="separator:ade8916e986adac77ff3766e90615fa9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2932bd21ebfd0f305533df355c89b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#acb2932bd21ebfd0f305533df355c89b7">getDisplayText</a> ($step)</td></tr>
<tr class="separator:acb2932bd21ebfd0f305533df355c89b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91d741678d4dd54df44eb28216f1a39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#ad91d741678d4dd54df44eb28216f1a39">getDownloadFile</a> ()</td></tr>
<tr class="separator:ad91d741678d4dd54df44eb28216f1a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa969f966d1ab74704cbde9512d281d2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#aa969f966d1ab74704cbde9512d281d2c">getWorkPackage</a> ($number)</td></tr>
<tr class="separator:aa969f966d1ab74704cbde9512d281d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html">Controller</a></td></tr>
<tr class="memitem:a184909dab34698899937d810a9f5d393 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a184909dab34698899937d810a9f5d393">validate</a> ()</td></tr>
<tr class="separator:a184909dab34698899937d810a9f5d393 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6008411fc9e89758eba4519a3f0ece7 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#ac6008411fc9e89758eba4519a3f0ece7">executeSubAction</a> ($action)</td></tr>
<tr class="separator:ac6008411fc9e89758eba4519a3f0ece7 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2321df4f2f7d188b92b96fe63dc71a90 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a2321df4f2f7d188b92b96fe63dc71a90">getLogger</a> ()</td></tr>
<tr class="separator:a2321df4f2f7d188b92b96fe63dc71a90 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefa4c5bd150e2a7d525576d7959c6911 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#aefa4c5bd150e2a7d525576d7959c6911">getSession</a> ()</td></tr>
<tr class="separator:aefa4c5bd150e2a7d525576d7959c6911 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01d1e66179edfeb910b32001222361d inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#ad01d1e66179edfeb910b32001222361d">getPersistenceFacade</a> ()</td></tr>
<tr class="separator:ad01d1e66179edfeb910b32001222361d inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e14b9d668577f58a358b3f6674b0e98 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a1e14b9d668577f58a358b3f6674b0e98">getPermissionManager</a> ()</td></tr>
<tr class="separator:a1e14b9d668577f58a358b3f6674b0e98 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556d3a59c42fd2effebb419d1bbc9c4b inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a556d3a59c42fd2effebb419d1bbc9c4b">getActionMapper</a> ()</td></tr>
<tr class="separator:a556d3a59c42fd2effebb419d1bbc9c4b inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac69a62adf2e318d7c97c9489a1eed7 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#afac69a62adf2e318d7c97c9489a1eed7">getLocalization</a> ()</td></tr>
<tr class="separator:afac69a62adf2e318d7c97c9489a1eed7 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0e611236742aac18ba1936d03ba89a inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a0b0e611236742aac18ba1936d03ba89a">getMessage</a> ()</td></tr>
<tr class="separator:a0b0e611236742aac18ba1936d03ba89a inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a7980e832ca964872fe29113ab1642 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#ad6a7980e832ca964872fe29113ab1642">getConfiguration</a> ()</td></tr>
<tr class="separator:ad6a7980e832ca964872fe29113ab1642 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a570fd766e5395246e8fb34d8a317616c inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a570fd766e5395246e8fb34d8a317616c">assignResponseDefaults</a> ()</td></tr>
<tr class="separator:a570fd766e5395246e8fb34d8a317616c inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7bef6946871537b4f9b4725330e6848 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#ae7bef6946871537b4f9b4725330e6848">isLocalizedRequest</a> ()</td></tr>
<tr class="separator:ae7bef6946871537b4f9b4725330e6848 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b623a9d1bd969d602c10eee8b40d04 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a87b623a9d1bd969d602c10eee8b40d04">checkLanguageParameter</a> ()</td></tr>
<tr class="separator:a87b623a9d1bd969d602c10eee8b40d04 inherit pro_methods_classwcmf_1_1lib_1_1presentation_1_1_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a47a24ac0d700f62a9434d298ade72fb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfacewcmf_1_1lib_1_1presentation_1_1_request.html">Request</a>&#160;</td>
          <td class="paramname"><em>$request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfacewcmf_1_1lib_1_1presentation_1_1_response.html">Response</a>&#160;</td>
          <td class="paramname"><em>$response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html#a47a24ac0d700f62a9434d298ade72fb9" title="Initialize the Controller with request/response data. ">Controller::initialize()</a> </dd></dl>

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00084">84</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4eadfceba84d61eda01f9828935cf8e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">doExecute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd>Controller::doExecute() </dd></dl>

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00137">137</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6f2ef7d2d349d3ef7c8a913e110d58f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">getStepNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of the current step (1..number of steps). </p>
<dl class="section return"><dt>Returns</dt><dd>The number of the current step </dd></dl>

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00183">183</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab0e75dc0967afe71da4d6bd46d7a500b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">addWorkPackage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$oids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$args</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a work package to session. </p>
<p>This package will be devided into sub packages of given size. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$name</td><td>Display name of the package (will be supplemented by startNumber-endNumber, e.g. '1-7', '8-14', ...) </td></tr>
    <tr><td class="paramname">$size</td><td>Size of one sub package. This defines how many of the oids will be passed to the callback in one call (e.g. '7' means pass 7 oids per call) </td></tr>
    <tr><td class="paramname">$oids</td><td>An array of object ids (or other application specific package identifiers) with <em>at least one value</em> that will be distributed into sub packages of given size </td></tr>
    <tr><td class="paramname">$callback</td><td>The name of method to call for this package type. The callback method must accept the following parameters:<ol type="1">
<li>array parameter (the object ids to process in the current call)</li>
<li>optionally array parameter (the additional arguments) </li>
</ol>
</td></tr>
    <tr><td class="paramname">$args</td><td>Assoziative array of additional callback arguments (application specific) (default: <em>null</em>) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00200">200</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="a032673e3a0cc074048a113b86776d992"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">processPart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process the next step. </p>

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00258">258</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="ade8916e986adac77ff3766e90615fa9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">getNumberOfSteps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of steps to process. </p>
<dl class="section return"><dt>Returns</dt><dd>Integer </dd></dl>

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00278">278</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="acb2932bd21ebfd0f305533df355c89b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">getDisplayText </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$step</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the text to display for the current step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$step</td><td>The step number </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00286">286</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad91d741678d4dd54df44eb28216f1a39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">getDownloadFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the filename of the file to download at the end of processing. </p>
<dl class="section return"><dt>Returns</dt><dd>String of null, if no download is created. </dd></dl>

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00294">294</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa969f966d1ab74704cbde9512d281d2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">getWorkPackage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get definitions of work packages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$number</td><td>The number of the work package (first number is 0, number is incremented on every call) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function gets called on first initialization run as often until it returns null. This allows to define different static work packages. If you would like to add work packages dynamically on subsequent runs this may be done by directly calling the <a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#ab0e75dc0967afe71da4d6bd46d7a500b" title="Add a work package to session. ">BatchController::addWorkPackage()</a> method. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A work packages description as assoziative array with keys 'name', 'size', 'oids', 'callback' as required for <a class="el" href="classwcmf_1_1application_1_1controller_1_1_batch_controller.html#ab0e75dc0967afe71da4d6bd46d7a500b" title="Add a work package to session. ">BatchController::addWorkPackage()</a> method or null to terminate. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a53400ac330831ebe7824ff08a43ac6a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const ONE_CALL_SESSION_VARNAME = 'BatchController.oneCall'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00072">72</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="a54313d52266e446e4bcf229ea69fe04b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const STEP_SESSION_VARNAME = 'BatchController.curStep'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00073">73</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3a3f4de20180ac5036e01a95234b55eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const NUM_STEPS_VARNAME = 'BatchController.numSteps'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00074">74</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="a605a49acd064e42685ab6bc201ed8e11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DOWNLOAD_STEP = 'BatchController.downloadStep'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00075">75</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5d60608693b06c89358cd28e94b30bd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const WORK_PACKAGES_VARNAME = 'BatchController.workPackages'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_batch_controller_8php_source.html#l00076">76</a> of file <a class="el" href="_batch_controller_8php_source.html">BatchController.php</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
      </div>
    </div>
  </div>
</div>
<hr>
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-9">
        <small>&copy; 2016 <a href="http://www.wemove.com" target="_blank">wemove digital solutions</a><br>
          Generated on Fri Jul 15 2016 22:20:41 for wCMF by &#160;<a href="http://www.doxygen.org/index.html" target="_blank">doxygen</a> 1.8.10</small>
      </div>
    </div>
  </div>
</footer>
</body>
</html>
