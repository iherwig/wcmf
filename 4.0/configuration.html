<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>wCMF 4.0: Configuration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A MDSD framework for building reliable, maintainable and extendable web applications with PHP">
  <meta name="keywords" content="PHP, web application framework, model driven development">
  <meta name="author" content="wemove digital solutions">
  <link rel="shortcut icon" href="theme/images/favicon.ico">
  <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
  <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
  <link href="theme/css/doxstyles.css" rel="stylesheet">
  <script src="jquery.js"></script>
  <script src="theme/bootstrap3/js/bootstrap.min.js"></script>
  <link href="theme/bootstrap3/css/bootstrap.min.css" rel="stylesheet">
  <link href="theme/bootstrap3/css/font-awesome.min.css" rel="stylesheet">
  <script src="theme/js/tocify/jquery.tocify.min.js"></script>
  <link href="theme/js/tocify/jquery.tocify.css" rel="stylesheet">
  <script src="theme/js/doxy-boot.js"></script>
  <script src="theme/js/application.js"></script>
  <script src="dynsections.js"></script>
  <link href="theme/css/syntax.css" rel="stylesheet">
  <link href="theme/css/style.css" rel="stylesheet">
  <script src="search/search.js"></script>
  <script src="search/searchdata.js"></script>
</head>
<body style="min-height: 200px; padding-top: 50px;">
<header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav">
  <div class="container">
    <div class="row">
      <div class="col-md-offset-1 col-sm-offset-0 col-md-10">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".menu-navbar-collapse">
            <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">wCMF 4.0</a>
        </div>
        <div class="collapse navbar-collapse menu-navbar-collapse" role="navigation">
          <ul class="nav navbar-nav">
            <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-hand-o-right"></i> Guides <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="gettingstarted.html">Getting started</a></li>
                <li><a href="architecture.html">Architecture</a></li>
                <li><a href="model.html">Model</a></li>
                <li><a href="persistence.html">Persistence</a></li>
                <li><a href="presentation.html">Presentation</a></li>
                <li><a href="configuration.html">Configuration</a></li>
                <li><a href="security.html">Security</a></li>
                <li><a href="i18n_l10n.html">I18n & l10n</a></li>
                <li><a href="tests.html">Tests</a></li>
              </ul>
            </li>
            <li class="dropdown"><a href="annotated.html"><i class="fa fa-file-text-o"></i> API</a></li>
            <li><a href="https://github.com/iherwig/wcmf"><i class="fa fa-github"></i> Code</a></li>
            <li><a href="support.html"><i class="fa fa-support"></i> Support</a></li>
          </ul>
          <ul class="nav navbar-nav pull-right">
            <li>
              <div id="MSearchBox">
                <input id="MSearchField" type="text" class="form-control" placeholder="Search API" name="query" onkeyup="searchBox.OnSearchFieldChange(event)">
              </div>
              <div id="MSearchSelect"></div>
              <div id="MSearchClose"></div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>
<a class="anchor" id="top"></a>
<div class="content" id="content">
  <div class="container">
    <div class="row" style="margin-top: 20px;">
      <div class="col-md-offset-1 col-sm-offset-0 col-md-10 panel panel-default">
       <div>
<!-- end header part --><!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
//var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Configuration </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="has-toc"></div><h1><a class="anchor" id="conf_main"></a>
Configuration</h1>
<p>Application configuration is handled by implementations of <a class="el" href="interfacewcmf_1_1lib_1_1config_1_1_configuration.html"><code>Configuration</code></a>. To use the configuration throughout the application, an instance of the appropriate implementation is passed to <a class="el" href="classwcmf_1_1lib_1_1core_1_1_object_factory.html"><code>ObjectFactory</code></a>.</p>
<p>The following code demonstrates how to set up and use the <a class="el" href="classwcmf_1_1lib_1_1config_1_1impl_1_1_inifile_configuration.html"><code>InifileConfiguration</code></a> configuration in code:</p>
<div class="fragment"><div class="line">$configPath = WCMF_BASE.<span class="stringliteral">&#39;app/config/&#39;</span>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// setup configuration</span></div>
<div class="line">$configuration = <span class="keyword">new</span> InifileConfiguration($configPath);</div>
<div class="line">$configuration-&gt;addConfiguration(<span class="stringliteral">&#39;config.ini&#39;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// register with object factory</span></div>
<div class="line">ObjectFactory::registerInstance(<span class="stringliteral">&#39;configuration&#39;</span>, $configuration);</div>
<div class="line"></div>
<div class="line"><span class="comment">// get a configuration value</span></div>
<div class="line">$configuration = ObjectFactory::getInstance(<span class="stringliteral">&#39;configuration&#39;</span>);</div>
<div class="line">$tz = $configuration-&gt;getValue(<span class="stringliteral">&#39;timezone&#39;</span>, <span class="stringliteral">&#39;application&#39;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="conf_format"></a>
Configuration Format</h2>
<p>Currently wCMF provides an implementation for using the <a href="http://en.wikipedia.org/wiki/INI_file">INI file</a> format. <a class="el" href="classwcmf_1_1lib_1_1config_1_1impl_1_1_inifile_configuration.html"><code>InifileConfiguration</code></a> handles ini files that consist of <b>key-value pairs</b> that are grouped in <b>sections</b>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[SectionA]</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;key1 = value1</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;key2 = value2</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;[SectionB]</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;key3 = value3</div>
</div><!-- fragment --><p>Additionally it defines <b>array values</b> (enclosed in curly braces) and <b>inclusion</b> of additional files. Included files are defined in the <code>include</code> key of the <code>Config</code> section. Keys in the current file override keys from included files.</p>
<p>The following example shows how to include an array of additional configuration files to separate concerns:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[Config]</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;include = {server.ini, persistence.ini, presentation.ini, security.ini}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>While path values in the configuration are normally resolved relative to the value of the <code>WCMF_BASE</code> constant, the included files are expected to be located in the directory that is passed to the constructor of <a class="el" href="classwcmf_1_1lib_1_1config_1_1impl_1_1_inifile_configuration.html"><code>InifileConfiguration</code></a>.</dd></dl>
<p>The possibility to include configuration files into others is useful, if you want to <b>separate varying parts</b> from static ones to simplify the deployment process. In the <a class="el" href="gettingstarted.html#app">default application</a> for example all server specific configuration (e.g. database connection) are separated into a file called <em>server.ini</em>.</p>
<dl class="section note"><dt>Note</dt><dd>Configuration section and key names are treated case-insensitive.</dd></dl>
<h2><a class="anchor" id="conf_di"></a>
Dependency injection</h2>
<p>wCMF supports <a href="http://en.wikipedia.org/wiki/Dependency_injection">Dependency injection</a> through <a class="el" href="interfacewcmf_1_1lib_1_1core_1_1_factory.html"><code>ObjectFactory</code></a> and it's <a class="el" href="classwcmf_1_1lib_1_1core_1_1impl_1_1_default_factory.html"><code>DefaultFactory</code></a> implementation. This class implements <em>constructor</em> and <em>setter injection</em>, which means that dependencies are either set through the <em>constructor</em> or a <em>setter method</em> of the client class or a <em>public member variable</em>.</p>
<p>Assembly details for client instances are defined in the application configuration in special sections containing a <code>__class</code> key. The value of the key denotes the class to be used to create the client instance. All other keys are tried to be mapped to constructor parameters or setters/members of that class. Complex dependencies of an instance may be set by using the <code>$</code> notation, which refers to another configuration section. If a section does not contain a <code>__class</code> key it is instantiated as an associative array.</p>
<p>The following example demonstrates the pattern by means of the <a class="el" href="interfacewcmf_1_1lib_1_1persistence_1_1_persistence_facade.html"><code>PersistenceFacade</code></a> instance:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[PersistenceFacade]</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;__class = wcmf\lib\persistence\impl\DefaultPersistenceFacade</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;mappers = $typeMapping</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;logStrategy = $auditingLogStragegy</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;[AuditingLogStragegy]</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;__class = wcmf\lib\persistence\output\impl\AuditingOutputStrategy</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;[TypeMapping]</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;app.src.model.wcmf.DBSequence = $app_src_model_wcmf_DBSequenceRDBMapper</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;app.src.model.wcmf.Lock = $app_src_model_wcmf_LockRDBMapper</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;[app_src_model_wcmf_DBSequenceRDBMapper]</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;__class = app\src\model\wcmf\DBSequenceRDBMapper</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;connectionParams = $database</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;[app_src_model_wcmf_LockRDBMapper]</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;__class = app\src\model\wcmf\LockRDBMapper</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;connectionParams = $database</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;[Database]</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;dbType = sqlite</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;dbHostName = 127.0.0.1</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;dbName = app/test-db.sq3</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;dbUserName =</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;dbPassword =</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;dbCharSet = utf8</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;[EventManager]</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;__class = wcmf\lib\core\impl\DefaultEventManager</div>
</div><!-- fragment --><p>The first section defines that the instance named <em>PersistenceFacade</em> is an object of the class <a class="el" href="classwcmf_1_1lib_1_1persistence_1_1impl_1_1_default_persistence_facade.html"><code>DefaultPersistenceFacade</code></a>.</p>
<p>So let's have a look at the relevant code in <a class="el" href="classwcmf_1_1lib_1_1persistence_1_1impl_1_1_default_persistence_facade.html"><code>DefaultPersistenceFacade</code></a>:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>DefaultPersistenceFacade <span class="keyword">implements</span> PersistenceFacade {</div>
<div class="line"></div>
<div class="line">  <span class="keyword">public</span> <span class="keyword">function</span> __construct(EventManager $eventManager,</div>
<div class="line">          OutputStrategy $logStrategy) {</div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keyword">public</span> <span class="keyword">function</span> setMappers($mappers) {</div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>When requested the first time, the <em>PersistenceFacade</em> instance is created in the following steps:</p>
<ol type="1">
<li><em>Constructor parameters</em>:<ul>
<li><em>$eventManager</em> is not explicitly defined in the instance configuration, so the factory looks it up in the configuration. Since there is a <code>EventManager</code> section, it uses it to create an instance of <a class="el" href="classwcmf_1_1lib_1_1core_1_1impl_1_1_default_event_manager.html"><code>DefaultEventManager</code></a> and injects it into the constructor. If there would be no section with this name, the factory would use the <em>type hint</em> and search for a class called <code>EventManager</code>.</li>
<li><em>$logStrategy</em> is explicitly defined as an instance of <a class="el" href="classwcmf_1_1lib_1_1persistence_1_1output_1_1impl_1_1_auditing_output_strategy.html"><code>AuditingOutputStrategy</code></a>. This is an example of a complex dependency that is defined in another configuration section.</li>
</ul>
</li>
<li><em>Setter injection of the remaining parameters</em>:<ul>
<li>The <em>mappers</em> configuration parameter is not used in the constructor. The factory searches for a <em>setter method</em> (<em>setMappers</em>) or a public member variable (<em>$mappers</em>). Since the class defines a setter method, it is used to inject the dependency. The <code>TypeMapping</code> section does not contain a <code>__class</code> key, which means that the <em>mappers</em> property will be an associative array. In this example it maps class names (e.g. <em>app.src.model.wcmf.DBSequence</em>) to mapper instances (e.g. <code>DBSequenceRDBMapper</code>). Further sections show that the <em>connectionParams</em> property of the <code>DBSequenceRDBMapper</code> instance is set to an associative array describing the database connection (section <code>Database</code>).</li>
</ul>
</li>
</ol>
<p>The <a class="el" href="interfacewcmf_1_1lib_1_1persistence_1_1_persistence_facade.html"><code>PersistenceFacade</code></a> instance can be retrieved by using the following code:</p>
<div class="fragment"><div class="line">$persistenceFacade = ObjectFactory::getInstance(<span class="stringliteral">&#39;persistenceFacade&#39;</span>);</div>
</div><!-- fragment --><h3><a class="anchor" id="conf_shareddi"></a>
Shared and Non-Shared instances</h3>
<p>By default all instances created by <a class="el" href="classwcmf_1_1lib_1_1core_1_1_object_factory.html"><code>ObjectFactory</code></a> are <em>shared</em> instances, which means, that they will be created on the first call and only returned by succeeding calls. If you want to create a <em>non-shared</em> instance, you must use the <code>__shared</code> key in the configuration and set it to <em>false</em>.</p>
<p>The following example shows the configuration of a non-shared <a class="el" href="interfacewcmf_1_1lib_1_1presentation_1_1view_1_1_view.html"><code>View</code></a> instance:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[View]</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;__class = wcmf\lib\presentation\view\impl\SmartyView</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;__shared = false</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;compileCheck = true</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;caching = false</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;cacheLifetime = 3600</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;cacheDir = app/cache/smarty/</div>
</div><!-- fragment --><h3><a class="anchor" id="conf_circulardi"></a>
Circular dependencies</h3>
<p>Since <a class="el" href="classwcmf_1_1lib_1_1core_1_1impl_1_1_default_factory.html"><code>DefaultFactory</code></a> tries to resolve all dependencies when constructing an instance, it might happen that a dependency depends on the instance being currently constructed. This is called a <em>circular dependency</em> and would cause infinite recursion. To solve this problem the dependency in question <em>must not</em> be injected in the constructor, but in a setter method or member variable. This allows the factory to construct the initial instance first without requiring the child dependency. It is then available when constructing the child dependency.</p>
<h2><a class="anchor" id="conf_peruser"></a>
Configuration for individual users</h2>
<p>wCMF's user base class <a class="el" href="classwcmf_1_1lib_1_1security_1_1principal_1_1impl_1_1_abstract_user.html"><code>AbstractUser</code></a> has a persistent property <code>config</code> which may be used to set a individual configuration for a user. This will be loaded after the standard configuration and extends its settings. If two keys have the same name the one from the user configuration overwrites the standard one. Using the <code>RoleConfig</code> configuration section, you can easily assign configuration files to groups:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[RoleConfig]</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;administrators = admin.ini</div>
</div><!-- fragment --><p>If a user is added to a listed role, the given configuration file will be automatically assigned to it, if no individual configuration is set yet.</p>
<h2><a class="anchor" id="conf_default_app"></a>
Default application configuration</h2>
<p>The <a class="el" href="gettingstarted.html#app">default application</a> uses some special configuration sections:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[Application]</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;title = WCMF TEST MODEL</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;color = #428BCA</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;rootTypes = {Author, Book, Publisher}</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;timezone = Europe/Berlin</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;listeners = {Search, EventListener}</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;[Media]</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;uploadDir = app/public/media/</div>
</div><!-- fragment --><ul>
<li><code>Application</code><ul>
<li><code>title</code> Application title</li>
<li><code>color</code> Color to be used in the header of the login screen</li>
<li><code>rootTypes</code> List of entity types to create tabs for</li>
<li><code>timezone</code> Application timezone</li>
<li><code>listeners</code> List of listeners to install (see <a class="el" href="presentation.html#pres_listeners">Implicit listener installation</a>)</li>
</ul>
</li>
<li><code>Media</code><ul>
<li><code>uploadDir</code> Directory, to which media files should be uploaded</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="conf_logging"></a>
Logging configuration</h2>
<p>Since logging is potentially required right from application startup, it is usually the first service to set up - even before setting up the application configuration. This implies that logging should not depend on other services, especially not on the application configuration.</p>
<p>wCMF provides integrations for <a href="http://logging.apache.org/log4php/">log4php</a> and <a href="https://github.com/Seldaek/monolog">Monolog</a> through implementations of the <a class="el" href="interfacewcmf_1_1lib_1_1core_1_1_logger.html"><code>Logger</code></a> interface. The concrete classes are configured using a configuration file, that is passed to the constructor. An instance of the concrete class is then passed to the <a class="el" href="classwcmf_1_1lib_1_1core_1_1_log_manager.html#aa84fc26d8447e732bc9b71ec954e2b7a"><code>LogManager::configure</code></a> method.</p>
<h3><a class="anchor" id="conf_monolog"></a>
Monolog</h3>
<p>To use the <em>log4php</em> library, instantiate <a class="el" href="classwcmf_1_1lib_1_1core_1_1impl_1_1_monolog_file_logger.html"><code>MonologFileLogger</code></a> in the following way:</p>
<div class="fragment"><div class="line">$logger = <span class="keyword">new</span> MonologFileLogger(<span class="stringliteral">&#39;main&#39;</span>, WCMF_BASE.<span class="stringliteral">&#39;app/config/log.ini&#39;</span>);</div>
<div class="line">LogManager::configure($logger);</div>
</div><!-- fragment --><p><a class="el" href="classwcmf_1_1lib_1_1core_1_1impl_1_1_monolog_file_logger.html"><code>MonologFileLogger</code></a> is a simple wrapper class that allows logging to files or streams. The configuration is defined in the <a href="http://en.wikipedia.org/wiki/INI_file">INI file</a> format using the following sections and keys:</p>
<ul>
<li><code>Root</code> section defines properties valid for all loggers unless otherwise stated<ul>
<li><code>level</code> The default log level</li>
<li><code>target</code> The logging target. This could be either a<ul>
<li><em>directory</em> (e.g. <em>app/log/</em>) for daily rotating log files or a</li>
<li><em>stream</em> (e.g. <em>php://output</em>) for logging to a stream</li>
</ul>
</li>
</ul>
</li>
<li><code>Logger</code> section defines log levels for individual loggers<ul>
<li><em>logger name</em> (e.g. <em>wcmf\lib\presentation\Application</em>) is used as key and the log level (e.g. <code>DEBUG</code>) as value</li>
</ul>
</li>
</ul>
<p>Since in wCMF each class uses it's own logger named after the class name, setting up the log level for individual classes is straightforward.</p>
<p>The following configuration sets the default log level to <code>ERROR</code> and the log level for the <a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html"><code>Controller</code></a> class to <code>DEBUG</code>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[Root]</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;level = ERROR</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;target = app/log/</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;[Logger]</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;wcmf\lib\presentation\Controller = DEBUG</div>
</div><!-- fragment --><h3><a class="anchor" id="conf_log4php"></a>
log4php</h3>
<p>To use the <em>log4php</em> library, instantiate <a class="el" href="classwcmf_1_1lib_1_1core_1_1impl_1_1_log4php_logger.html"><code>Log4phpLogger</code></a> in the following way:</p>
<div class="fragment"><div class="line">$logger = <span class="keyword">new</span> Log4phpLogger(<span class="stringliteral">&#39;main&#39;</span>, WCMF_BASE.<span class="stringliteral">&#39;app/config/log4php.php&#39;</span>);</div>
<div class="line">LogManager::configure($logger);</div>
</div><!-- fragment --><p>The configuration file <em>log4php.php</em> uses log4php's <a href="https://logging.apache.org/log4php/docs/configuration.html#PHP">PHP configuration format</a>.</p>
<p>The following configuration sets the default log level to <code>ERROR</code> and the log level for the <a class="el" href="classwcmf_1_1lib_1_1presentation_1_1_controller.html"><code>Controller</code></a> class to <code>DEBUG</code>:</p>
<div class="fragment"><div class="line"><span class="keywordflow">return</span> array(</div>
<div class="line">  <span class="stringliteral">&#39;rootLogger&#39;</span> =&gt; array(</div>
<div class="line">    <span class="stringliteral">&#39;level&#39;</span> =&gt; <span class="stringliteral">&#39;ERROR&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;appenders&#39;</span> =&gt; array(<span class="stringliteral">&#39;dailyFile&#39;</span>, <span class="stringliteral">&#39;echo&#39;</span>),</div>
<div class="line">  ),</div>
<div class="line"></div>
<div class="line">  <span class="stringliteral">&#39;loggers&#39;</span> =&gt; array(</div>
<div class="line">    <span class="stringliteral">&#39;wcmf.lib.presentation.Controller&#39;</span> =&gt; array(<span class="stringliteral">&#39;level&#39;</span> =&gt; <span class="stringliteral">&#39;DEBUG&#39;</span>, <span class="stringliteral">&#39;appenders&#39;</span> =&gt; array(<span class="stringliteral">&#39;dailyFile&#39;</span>)),</div>
<div class="line">  ),</div>
<div class="line"></div>
<div class="line">  ...</div>
<div class="line">);</div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
      </div>
    </div>
  </div>
</div>
<hr>
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-9">
        <small>&copy; 2016 <a href="http://www.wemove.com" target="_blank">wemove digital solutions</a><br>
          Generated on Fri Jul 15 2016 22:20:41 for wCMF by &#160;<a href="http://www.doxygen.org/index.html" target="_blank">doxygen</a> 1.8.10</small>
      </div>
    </div>
  </div>
</footer>
</body>
</html>
